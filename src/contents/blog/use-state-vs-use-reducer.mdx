---
title: useState vs useReducer
category: React
summary: stateë¥¼ ê´€ë¦¬í•  ë•Œ, ìƒí™©ì— ë”°ë¼ useStateì™€ useReducer ì¤‘ ì–´ë–¤ ê²ƒì„ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.
published: true
publishedAt: "2022-10-01"
---

ì´ ê¸€ì€ [TkDodo](https://tkdodo.eu)ì˜
[useState vs useReducer](https://tkdodo.eu/blog/use-state-vs-use-reducer) í¬ìŠ¤íŠ¸ë¥¼ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤.

## useStateì˜ í•¨ì •

- [#1: useStateë¥¼ ë‚¨ìš©í•˜ì§€ ë§ˆì„¸ìš”](/blog/dont-over-use-state)
- [#2: propsë¥¼ useStateì— ì „ë‹¬í•˜ê¸°](/blog/putting-props-to-use-state)
- [#3: useStateì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ê²ƒë“¤](/blog/things-to-know-about-use-state)
- [#4: ì¼íšŒì„± ì´ˆê¸°í™”ë¥¼ ìœ„í•œ useState](/blog/use-state-for-one-time-initializations)
- <b>#5: useState vs useReducer</b>

---

ì–´ë–¤ state ê´€ë¦¬ ì†”ë£¨ì…˜ì„ ì‚¬ìš©í•´ì•¼ì§€ì— ëŒ€í•œ ì§ˆë¬¸ì€ ì•„ë§ˆë„ reactê°€ íƒ„ìƒí•œ ì‹œì ë¶€í„° (ì–´ì©Œë©´ ê·¸ ì´ì „ë¶€í„°) ì¡´ì¬í•´ì™”ê³ 
ê·¸ì— ëŒ€í•œ ë‹µë³€ì€ ë‹¤ì–‘í•©ë‹ˆë‹¤. ì €ì—ê²ŒëŠ” ì˜¤ì§ í•˜ë‚˜ì˜ ì¢‹ì€ ë‹µë³€ì´ ì¡´ì¬í•˜ë©° ì–´ë– í•œ ë³µì¡í•œ ì§ˆë¬¸ì—ë„ ë™ì¼í•©ë‹ˆë‹¤.

> ìƒí™©ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.

<p style={{paddingLeft: '38px', marginTop: '-8px'}}>â€” TkDodo</p>

stateì˜ ìœ í˜•, ë³€ê²½ ì£¼ê¸° ê·¸ë¦¬ê³  ë²”ìœ„ì— ë”°ë¼ì„œ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í´ë¼ì´ì–¸íŠ¸ state

hookì´ íƒ„ìƒí•˜ê¸° ì´ì „ì— í´ë¼ì´ì–¸íŠ¸ ì§€ì—­ stateë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì€ ë‹¨ í•˜ë‚˜ì˜€ìŠµë‹ˆë‹¤: í´ë˜ìŠ¤ ì»´í¬ë„ˆíŠ¸ì—ì„œì˜ *this.setState*.
stateëŠ” ë°˜ë“œì‹œ ê°ì²´ì—¬ì•¼ í–ˆìœ¼ë©° ë³€ê²½ í•¨ìˆ˜ëŠ” stateì˜ ì¼ë¶€ë¶„ë§Œ ë°›ëŠ” ê²ƒì„ í—ˆìš©í–ˆìŠµë‹ˆë‹¤.

hookì€ ê·¼ë³¸ì ì¸ ë°©ì‹ì„ ë°”ê¿¨ìŠµë‹ˆë‹¤. í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ stateë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í–ˆì„ ë¿ë§Œ ì•„ë‹ˆë¼ *useState* ì™€ *useReducer*ë¼ëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ ì„ íƒì§€ë¥¼ ì œê³µí–ˆìŠµë‹ˆë‹¤.

í´ë˜ìŠ¤ ê¸°ë°˜ì—ì„œ hook ê¸°ë°˜ state ê´€ë¦¬ë¡œ ë°”ê¿€ ë•Œ ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì˜ ì ‘ê·¼ ë°©ë²•ì€ í•˜ë‚˜ì˜ ê°ì²´ë¥¼ ê°ê°ì˜ í•„ë“œë¥¼ ê°’ìœ¼ë¡œ í•˜ëŠ” *useState*ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ì „:

```jsx
class Names extends React.Component {
  state = {
    firstName: '',
    lastName: '',
  }

  render() {
    return (
      <div>
        <input
          value={this.state.firstName}
          onChange={(event) =>
            this.setState({ firstName: event.target.value })
          }
        />
        <input
          value={this.state.lastName}
          onChange={(event) =>
            this.setState({ lastName: event.target.value })
          }
        />
      </div>
    )
  }
}
```

ì´í›„:

```jsx
const Names = () => {
  const [firstName, setFirstName] = React.useState('')
  const [lastName, setLastName] = React.useState('')

  return (
    <div>
      <input
        value={firstName}
        onChange={(event) => setFirstName(event.target.value)}
      />
      <input
        value={lastName}
        onChange={(event) => setLastName(event.target.value)}
      />
    </div>
  )
}
```

ë§ˆì¹˜ ì±…ì— ë‚˜ì˜¬ ê²ƒë§Œ ê°™ì€ ì˜ˆì‹œì§€ë§Œ ì—¬ê¸°ì„œëŠ” ì‹¤ì œë¡œ ë§ì´ ë©ë‹ˆë‹¤.
ë‘ ê°œì˜ í•„ë“œë“¤ì´ ìì²´ì ìœ¼ë¡œ ë³€ê²½ë˜ë¯€ë¡œ ìê¸‰ìì¡±í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ í•­ìƒ ì´ëŸ° ê²½ìš°ë§Œ ìˆëŠ” ê±´ ì•„ë‹™ë‹ˆë‹¤. ë•Œë¡œëŠ” ê°™ì´ ë³€ê²½ë˜ì–´ì•¼ í•˜ëŠ” stateê°€ ìˆìœ¼ë©°
ì´ëŸ° ìƒí™©ì—ì„œëŠ” ì—¬ëŸ¬ ê°œì˜ *useState*ë¡œ ë¶„ë¦¬ì‹œí‚¤ëŠ” ê²ƒì´ ì í•©í•˜ë‹¤ê³  ìƒê°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

í•œ ì˜ˆì‹œë¡œ ë§ˆìš°ìŠ¤ì˜ ì¢Œí‘œ(x, y)ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì„ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•­ìƒ ë™ì‹œì— ë³€ê²½ë˜ëŠ” ê²ƒì— ë‘ ê°œì˜ *useState*ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ë„ˆë¬´ ì´ìƒí•˜ë‹¤ê³  ìƒê°í•˜ê¸°ì— ì´ëŸ´ ê²½ìš°ì—ëŠ” í•˜ë‚˜ì˜ state ê°ì²´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```jsx
const App = () => {
  const [{ x, y }, setCoordinates] = React.useState({ x: 0, y: 0 })

  return (
    <button
      onClick={(event) => {
        setCoordinates({ x: event.screenX, y: event.screenY })
      }}
    >
      Click, {x} {y}
    </button>
  )
}
```

## í¼ state

ì‚¬ìš©í•  ë•Œë§ˆë‹¤ êµ¬ì¡°ê°€ ë‹¤ë¥´ê³  í•œ ë²ˆì— í•œ í•„ë“œë§Œ ë³€ê²½í•˜ëŠ” ì¼ë°˜ì ì¸ í¼ì˜ ê²½ìš°ì—ëŠ”
í•˜ë‚˜ì˜ state ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ ë˜í•œ ì˜ ë™ì‘í•©ë‹ˆë‹¤.
ëª‡ ê°œì˜ í•„ë“œê°€ ë“¤ì–´ê°ˆì§€ ëª¨ë¥´ê¸°ì— ì—¬ëŸ¬ ê°œì˜ *useState*ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ê¸°ë³¸ì ì¸ ì»¤ìŠ¤í…€ hookì€
ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const useForm = <State extends Record<string, unknown>>(
  initialState: State
) => {
  const [values, setValues] = React.useState(initialState)
  const update = <Key extends keyof State>(name: Key, value: State[Key]) =>
    setValues((form) => ({ ...form, [name]: value }))

  return [values, update] as const
}
```

ê·¸ë˜ì„œ *useState*ì˜ ê²½ìš° stateë¥¼ ë¶„ë¦¬í• ì§€ ë§ì§€ ê²°ì •í•  ë•Œ ë‹¤ìŒ ê·œì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.

<Mark>ë™ì‹œì— ë³€ê²½ë˜ëŠ” stateëŠ” ê°™ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</Mark>

## Batching

ì—¬ëŸ¬ stateë¥¼ ë§Œë“¤ì–´ì„œ ë³€ê²½ í•¨ìˆ˜ë¥¼ ì—°ë‹¬ì•„ í˜¸ì¶œí•˜ì§€ ì•Šê³  í•˜ë‚˜ì˜ state ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë³€ê²½ í•¨ìˆ˜ë¥¼ í•œ ë²ˆ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ ë³´ì„¸ìš”.
reactëŠ” ë™ê¸° ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ stateë¥¼ í•œêº¼ë²ˆì— ë³€ê²½í•˜ëŠ” ê²ƒì„ ë§¤ìš° ì˜ í•˜ì§€ë§Œ ë¹„ë™ê¸° í•¨ìˆ˜ì—ì„œëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.
ì´ ì´ìŠˆëŠ” [react 18ì—ì„œì˜ ìë™ batching](https://github.com/reactwg/react-18/discussions/21)ì— ì˜í•´ í•´ê²°ëì§€ë§Œ 
ì„±ëŠ¥ê³¼ëŠ” ìƒê´€ì—†ì´ ì–´ë–¤ stateê°€ í•¨ê»˜ ë³€ê²½ë˜ëŠ”ì§€, ì•ˆ ë˜ëŠ”ì§€ë¥¼ ì¶”ë¡ í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ êµ¬ì¡°í™”í•˜ëŠ” ê²ƒì€ ì¥ê¸°ì ì¸ ì¸¡ë©´ì—ì„œ ê°€ë…ì„±ê³¼ ìœ ì§€ ë³´ìˆ˜ì— ë§ì€ ë„ì›€ì´ ë©ë‹ˆë‹¤.

## useReducer

[useReducer](https://ko.reactjs.org/docs/hooks-reference.html#usereducer)ê°€ ë„ˆë¬´ ì ê²Œ ì‚¬ìš©ë˜ê³  ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.
ëŒ€ë‹¤ìˆ˜ì˜ ì‚¬ëŒë“¤ì´ *useReducer*ë¥¼ "ë³µì¡í•œ state"ë¥¼ ê´€ë¦¬í•  ë•Œë§Œ í•„ìš”ë¡œ í•˜ë‹¤ê³  ìƒê°í•˜ê³  ìˆì§€ë§Œ
ì´ì „ì— ë§í–ˆë“¯ì´ [stateë¥¼ í† ê¸€](https://tkdodo.eu/blog/things-to-know-about-use-state#bonus2-toggling-state-with-usereducer)í•˜ëŠ” ìƒí™©ì—ì„œë„ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const [value, toggleValue] = React.useReducer(previous => !previous, true)

<button onClick={toggleValue}>Toggle</button>
```

ë˜í•œ *forceUpdate*(ê±°ì˜ ëª¨ë“  ì „ì—­ state ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” stateê°€ react ì™¸ë¶€ì—ì„œ ê´€ë¦¬ë˜ê³  ìˆë‹¤ë©´ êµ¬ë…ìì—ê²Œ state ë³€ê²½ì„ ì•Œë¦¬ê¸° ìœ„í•´ ì´ë¥¼ í•„ìš”ë¡œ í•©ë‹ˆë‹¤.)ë¥¼ êµ¬í˜„í•˜ëŠ”ë°ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const forceUpdate = React.useReducer((state) => state + 1, 0)[1]
```

**ë³€ê²½ì‚¬í•­**: React 18ë¶€í„° [useSyncExternalStore](https://ko.reactjs.org/docs/hooks-reference.html#usesyncexternalstore) hookì„ ì œê³µí•˜ê²Œ ë¼ì„œ
ì „ì—­ state ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” *forceUpdate*ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

ìœ„ êµ¬í˜„ ì‚¬í•­ì€ ë³µì¡í•˜ì§€ ì•Šìœ¼ë©° *useReducer*ì˜ ìœ ì—°ì„±ì„ ì˜ ë³´ì—¬ì¤€ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.
ì´ì™€ ë”ë¶ˆì–´ stateì˜ ì—¬ëŸ¬ ë¶€ë¶„ì„ ë‹¤ë¥¸ "ì•¡ì…˜"ì— ë”°ë¼ ë³€ê²½í•  ë•Œë„ ë¹›ì„ ë°œí•©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ ì—¬ëŸ¬ ë‹¨ê³„ê°€ ìˆëŠ” ë¬´ì–¸ê°€ë¥¼ êµ¬í˜„í•  ë•Œ ë‘ ë²ˆì§¸ ë‹¨ê³„ì—ì„œëŠ” ì²« ë²ˆì§¸ ë‹¨ê³„ì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°’ì„ ì´ˆê¸°í™”í•˜ê±°ë‚˜
ì„¸ ë²ˆì§¸ ë‹¨ê³„ì˜ ë°ì´í„°ë¥¼ ë‘ ë²ˆì§¸ ë‹¨ê³„ë¡œ ëŒì•„ê°”ì„ ë•Œ ë²„ë¦¬ê¸°ë„ í•©ë‹ˆë‹¤.

ë…ë¦½ì ì¸ *useState*ê°€ ìˆì„ ë•Œ(í•œ ë‹¨ê³„ì— í•˜ë‚˜ì”©) ì´ëŸ¬í•œ state ì‚¬ì´ì˜ ì˜ì¡´ì„±ì´ ìˆë‹¤ë©´ 
*setState*ë¥¼ ì—¬ëŸ¬ ì°¨ë¡€ ì—°ë‹¬ì•„ í˜¸ì¶œí•´ì•¼ í•©ë‹ˆë‹¤.


### useReducer íŒ

*useReducer*ë¥¼ ì‚¬ìš©í•  ë•Œë©´ [ë¦¬ë•ìŠ¤ ìŠ¤íƒ€ì¼ ê°€ì´ë“œ](https://redux.js.org/style-guide/)ë¥¼ ì ìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

ì™„ì „íˆ ì¶”ì²œí•  ìˆ˜ ìˆëŠ” í›Œë¥­í•œ ê¸€ì´ë©° ëŒ€ë¶€ë¶„ì˜ ìš”ì ì´ *useReducer*ì— ì˜ ì ìš©ë©ë‹ˆë‹¤.
ì˜ˆë¥¼ ë“¤ì–´
- [Do Not Mutate State](https://redux.js.org/style-guide/#do-not-mutate-state)
- [Reducers Must Not Have Side Effects](https://redux.js.org/style-guide/#reducers-must-not-have-side-effects)
- [Model Actions as Events, not Setters](https://redux.js.org/style-guide/#model-actions-as-events-not-setters)

#### ì´ë²¤íŠ¸ ì£¼ë„ reducer

ëŒ€ë¶€ë¶„ì˜ ì‚¬ëŒë“¤ì€ reducerì—ì„œ ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ê³  ë¶€ìˆ˜íš¨ê³¼ë¥¼ ê°€ì§€ì§€ ì•ŠëŠ” ê²ƒì„ ìì—°ìŠ¤ë ˆ ì ìš©í•©ë‹ˆë‹¤. (react ìì²´ì—ì„œ ìš”êµ¬í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•˜ê¸°ì—)

ì•¡ì…˜ì„ ì´ë²¤íŠ¸ë¡œì¨ ëª¨ë¸ë§ í•˜ëŠ” ê²ƒì€ reducerì˜ ê°€ì¥ í° ì¥ì ì´ê¸°ì— ë§¤ìš° ê°•ì¡°í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤. 
ê·¸ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ ëª¨ë“  ì–´í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì„ uiì˜ ë‹¤ì–‘í•œ ë¶€ë¶„ì— í¼ì³ë†“ëŠ” ëŒ€ì‹  reducer ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ëŠ” state ë³€í™”ë¥¼ ì¶”ë¡ í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ ë¿ë§Œ ì•„ë‹ˆë¼ ë¡œì§ì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ë§¤ìš° ì‰½ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤. (ìˆœìˆ˜ í•¨ìˆ˜ëŠ” í…ŒìŠ¤íŠ¸í•˜ê¸° ê°€ì¥ ì‰½ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.)

ì´ ì»¨ì…‰ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ì „í˜•ì ì¸ *counter* ì˜ˆì‹œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

```jsx
const reducer = (state, action) => {
  // âœ… uiëŠ” ì´ë²¤íŠ¸ë§Œ ì „ë‹¬í•˜ë©° ë¡œì§ì€ reducer ë‚´ë¶€ì— ì¡´ì¬í•˜ê²Œ ë©ë‹ˆë‹¤.
  switch (action) {
    case 'increment':
      return state + 1
    case 'decrement':
      return state - 1
  }
}

function App() {
  const [count, dispatch] = React.useReducer(reducer, 0)

  return (
    <div>
      Count: {count}
      <button onClick={() => dispatch('increment')}>Increment</button>
      <button onClick={() => dispatch('decrement')}>Decrement</button>
    </div>
  )
}
```

ì •êµí•˜ì§€ëŠ” ì•Šìœ¼ë‚˜ (1ì„ ì¶”ê°€ ë˜ëŠ” 1ì„ ë¹¼ê¸°) ì´ ë˜í•œ ë¡œì§ì…ë‹ˆë‹¤.
ì–¼ë§ˆë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ëº„ì§€ ê²°ì •í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ëª¨ë“  ê²ƒì€ reducer *ë‚´ë¶€ì—ì„œ* ì´ë¤„ì§‘ë‹ˆë‹¤.
ê·¸ê²ƒì„ ì˜¤ì§ ìƒˆë¡œìš´ ìˆ«ìë§Œ ë°›ëŠ” "ì–´ë¦¬ì„ì€" reducer ì˜ˆì‹œì™€ ë¹„êµí•´ ë³´ì„¸ìš”.

```jsx
const reducer = (state, action) => {
  switch (action.type) {
    // ğŸš¨ ìƒˆë¡œìš´ ìˆ«ìë§Œ ë°›ëŠ” "ì–´ë¦¬ì„ì€" reducer
    case 'set':
      return action.value
  }
}

function App() {
  const [count, dispatch] = React.useReducer(reducer, 0)

  return (
    <div>
      Count: {count}
      <button onClick={() => dispatch({ type: 'set', value: count + 1 })}>
        Increment
      </button>
      <button onClick={() => dispatch({ type: 'set', value: count - 1 })}>
        Decrement
      </button>
    </div>
  )
}
```

ë™ì‘ì€ í•˜ì§€ë§Œ ì´ì „ ì˜ˆì‹œì²˜ëŸ¼ í™•ì¥ ê°€ëŠ¥í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ì¼ë°˜ì ìœ¼ë¡œ *set*ì´ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ì•¡ì…˜ë“¤ì€ í”¼í•˜ë„ë¡ í•˜ì„¸ìš”.

#### reducerì— props ì „ë‹¬í•˜ê¸°

reducerì˜ ë˜ ë‹¤ë¥¸ ì¢‹ì€ íŠ¹ì„±ì€ ì¸ë¼ì¸ í•˜ê±°ë‚˜ í´ë¡œì ¸ë¥¼ í†µí•´ propsì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì´ ë°©ë²•ì€ reducer *ë‚´ë¶€ì—ì„œ* props ë˜ëŠ” ì„œë²„ state(ì˜ˆ. [useQuery](https://tanstack.com/query/v4/?from=reactQueryV3&original=https://react-query-v3.tanstack.com/) hookì´ ë¦¬í„´í•˜ëŠ” state)ì— ì ‘ê·¼í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.
state ì´ˆê¸°í™”ë¥¼ í†µí•´ ì´ëŸ¬í•œ ê°’ë“¤ì„ "ë³µì‚¬"í•˜ì§€ ì•Šê³ ë„ reducer í•¨ìˆ˜ì— ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const reducer = (data) => (state, action) => {
  // âœ… í•­ìƒ ìµœì‹  ì„œë²„ stateì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
}

function App() {
  const { data } = useQuery(key, queryFn)
  const [state, dispatch] = React.useReducer(reducer(data))
}
```

ì´ê²ƒì€ [ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ stateë¥¼ ë¶„ë¦¬](https://tkdodo.eu/blog/practical-react-query#keep-server-and-client-state-separate) ì‹œì¼œì•¼ í•œë‹¤ëŠ” ì»¨ì…‰ê³¼ ë§¤ìš° ì˜ ë§ìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  ë§Œì•½ì— dataë¥¼ *ì´ˆê¸°ê°’*ìœ¼ë¡œ ì „ë‹¬í•œë‹¤ê³  í•´ë„ reducerê°€ ì²˜ìŒ ì‹¤í–‰ë  ë•ŒëŠ” dataê°€ *undefined*ì´ë¯€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ state ë™ê¸°í™”ë¥¼ ìœ„í•´ useEffect ë§Œë“œë ¤ê³  í•  ê²ƒì´ë©° ì´ëŠ” background updateì™€ ê´€ë ¨ëœ ëª¨ë“  ì¢…ë¥˜ì˜ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ ì ‘ê·¼ë²•ìœ¼ë¡œ ì´ë²¤íŠ¸ ì£¼ë„ counter ì˜ˆì‹œë¥¼ ì„œë²„ì—ì„œ ë°›ì•„ì˜¨ amount ë§Œí¼ ë”í•˜ê±°ë‚˜ ë¹¼ë„ë¡ í™•ì¥ì‹œì¼œ ë³´ê² ìŠµë‹ˆë‹¤.
ì»¤ìŠ¤í…€ hookì„ ì´ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```jsx
const reducer = (amount) => (state, action) => {
  switch (action) {
    case 'increment':
      return state + amount
    case 'decrement':
      return state - amount
  }
}

const useCounterState = () => {
  const { data } = useQuery(['amount'], fetchAmount)
  return React.useReducer(reducer(data ?? 1), 0)
}

function App() {
  const [count, dispatch] = useCounterState()

  return (
    <div>
      Count: {count}
      <button onClick={() => dispatch('increment')}>Increment</button>
      <button onClick={() => dispatch('decrement')}>Decrement</button>
    </div>
  )
}
```

ì»¤ìŠ¤í…€ hookìœ¼ë¡œ ë¡œì§ì„ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í–ˆê¸° ë•Œë¬¸ì— ui ìª½ì—ëŠ” ë³€ê²½ì‚¬í•­ì´ ì—†ë‹¤ëŠ” ê²ƒì„ ì£¼ëª©í•´ ì£¼ì„¸ìš”.

## ê²½í—˜ì— ë”°ë¥¸ ë²•ì¹™

ê²½í—˜ìƒ ì–¸ì œ ë¬´ì—‡ì„ ì¨ì•¼ í• ì§€ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ë§Œì•½ state ë³€ê²½ì´ ë…ë¦­ì ‘ìœ¼ë¡œ ì´ë¤„ì§„ë‹¤ë©´ - ì—¬ëŸ¬ *useState*ë¡œ ë¶„ë¦¬í•˜ì„¸ìš”.
- ë™ì‹œì— ë³€ê²½ë˜ê±°ë‚˜ í•œ ë²ˆì— í•˜ë‚˜ì˜ í•„ë“œë§Œ ë³€ê²½(ex. í¼) ëœë‹¤ë©´ - í•˜ë‚˜ì˜ *useState*ì™€ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
- ì‚¬ìš©ìì˜ ì¸í„°ë ‰ì…˜ì´ stateì˜ ë‹¤ë¥¸ ë¶€ë¶„ì„ ë³€ê²½í•œë‹¤ë©´ (stateê°€ ì„œë¡œ ì˜ì¡´í•œë‹¤ë©´) - *useReducer*ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
