---
title: ì¼íšŒì„± ì´ˆê¸°í™”ë¥¼ ìœ„í•œ useState
category: React
summary: ì•±ì´ ì‹¤í–‰ë˜ê³  ì¢…ë£Œë  ë•Œê¹Œì§€ ë‹¨ í•œ ë²ˆë§Œ ì´ˆê¸°í™”í•˜ê³  ì‹¶ì€ ê°’ì´ ìˆì„ ë•Œ ì–´ë–¤ ë°©ë²•ì´ ì¢‹ì„ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.
published: true
publishedAt: "2022-09-24"
---

ì´ ê¸€ì€ [TkDodo](https://tkdodo.eu)ì˜
[useState for one-time initializations](https://tkdodo.eu/blog/use-state-for-one-time-initializations) í¬ìŠ¤íŠ¸ë¥¼ ë²ˆì—­í•œ ê¸€ì…ë‹ˆë‹¤.

## useStateì˜ í•¨ì •

- [#1: useStateë¥¼ ë‚¨ìš©í•˜ì§€ ë§ˆì„¸ìš”](/blog/dont-over-use-state)
- [#2: propsë¥¼ useStateì— ë„£ê¸°](/blog/putting-props-to-use-state)
- [#3: useStateì— ëŒ€í•´ ì•Œì•„ì•¼ í•  ê²ƒë“¤](/blog/things-to-know-about-use-state)
- <b>#4: ì¼íšŒì„± ì´ˆê¸°í™”ë¥¼ ìœ„í•œ useState</b>

---

ë©”ëª¨ì´ì œì´ì…˜ê³¼ ì°¸ì¡° ê°’ ì•ˆì •ì„±(ë Œë” ì‹œ í•¨ìˆ˜, ê°ì²´ ë“±ì´ ë³€í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë™ì¼í•œ ì°¸ì¡° ê°’ì„ ìœ ì§€í•˜ëŠ” ê²ƒ)ì— ëŒ€í•´ ì–˜ê¸°í•  ë•Œ ê°€ì¥ ë¨¼ì € ë– ì˜¤ë¥´ëŠ” ìƒê°ì€ ë³´í†µ *useMemo*ì…ë‹ˆë‹¤.
ì˜¤ëŠ˜ì€ ë§ì€ ê¸€ì„ ì“°ê³  ì‹¶ì€ ê¸°ë¶„ì´ ì•„ë‹ˆë¼ì„œ ë°”ë¡œ ë³¸ë¡ ìœ¼ë¡œ ë„˜ì–´ê°€ì„œ ì´ë²ˆ ì£¼ì— ì œê°€ ê²½í—˜í•œ ë¬¸ì œë¥¼ ì˜ˆì‹œë¡œ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

## ì˜ˆì‹œ

ì•±ì´ ì‹¤í–‰ë˜ê³  ë‹¨ í•œ ë²ˆë§Œ ì´ˆê¸°í™”í•˜ê³  ì‹¶ì€ *resource*ê°€ ìˆë‹¤ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.
ê¶Œì¥ë˜ëŠ” íŒ¨í„´ì€ ë³´í†µ *Component* ì™¸ë¶€ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```jsx
// âœ… ì •ì  ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¨ í•œ ë²ˆ ìƒì„±ë©ë‹ˆë‹¤.
const resource = new Resource()

const Component = () => (
  <ResourceProvider resource={resource}>
    <App />
  </ResourceProvider>
)
```

ìƒìˆ˜ *resource*ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë²ˆë“¤ì´ í‰ê°€ë  ë•Œ ë‹¨ í•œ ë²ˆ ìƒì„±ë˜ë©° *ResourceProvider*ì— ì˜í•´ *App* ë‚´ë¶€ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ê²ƒì€ ë³´í†µ [ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´](https://react-redux.js.org/api/provider#example-usage)ì²˜ëŸ¼ ì•±ì—ì„œ ë‹¨ í•˜ë‚˜ì¸ *resource*ì— ëŒ€í•´ ì˜ ë™ì‘í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ [ë§ˆì´í¬ë¡œ í”„ë¡ íŠ¸ì—”ë“œ](https://micro-frontends.org/)ì˜ ê²½ìš° *Component*ë¥¼ ì—¬ëŸ¬ ë²ˆ ë§ˆìš´íŠ¸í•˜ë©°
ê°ê° ê³ ìœ í•œ *resource*ë¥¼ í•„ìš”ë¡œí•©ë‹ˆë‹¤. ë™ì¼í•œ *resource*ë¥¼ ê³µìœ í•œë‹¤ë©´ ë¬¸ì œê°€ ë˜ë¯€ë¡œ ì´ë¥¼ *Component* ë‚´ë¶€ë¡œ ì´ë™ì‹œì¼œì•¼ë§Œ í•©ë‹ˆë‹¤.

```jsx
const Component = () => {
  // ğŸš¨ ìœ ì˜: ë§¤ ë Œë” ì‹œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„±ë©ë‹ˆë‹¤.
  const resource = new Resource()
  return (
    <ResourceProvider resource={new Resource()}>
      <App />
    </ResourceProvider>
  )
}
```

í™•ì‹¤íˆ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹ˆë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ë Œë” í•¨ìˆ˜ê°€ ì´ì œëŠ” ìƒˆë¡œìš´ *resource*ë¥¼ ë§¤ ë Œë” ì‹œ ìƒì„±í•˜ë‹ˆê¹Œìš”!
*Component*ë¥¼ í•œ ë²ˆ ë Œë” í•˜ëŠ” ê²½ìš°ì—ëŠ” ë™ì‘í•˜ê² ì§€ë§Œ ì¢‹ì€ ë°©ë²•ì€ ì•„ë‹™ë‹ˆë‹¤. 
ì–¸ì  ê°€ëŠ” ë¦¬ë Œë”ê°€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ì— ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.

ë¨¸ë¦¿ì†ì— ê°€ì¥ ë¨¼ì € ë– ì˜¤ë¥¸ í•´ê²° ë°©ë²•ì€ *useMemo*ì…ë‹ˆë‹¤.
*useMemo*ëŠ” ì˜ì¡´ì„±ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ ë‹¤ì‹œ ê³„ì‚°ë˜ê³  ì—¬ê¸°ì„œëŠ” ì˜ì¡´ì„±ì„ ê°€ì§ˆ í•„ìš”ê°€ ì—†ìœ¼ë‹ˆ ë‹¤ìŒê³¼ ê°™ì´ ìš°ì•„í•˜ê²Œ ì‘ì„±í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const Component = () => {
  // ğŸš¨ ì—¬ì „íˆ ë¶ˆì•ˆì •ì 
  const resource = React.useMemo(() => new Resource(), [])
  return (
    <ResourceProvider resource={resource}>
      <App />
    </ResourceProvider>
  )
}
```

ë•Œë¡œëŠ” ì˜ ë™ì‘í•  ìˆ˜ ìˆì§€ë§Œ [react ê³µì‹ ë¬¸ì„œ](https://ko.reactjs.org/docs/hooks-reference.html#usememo)ì—ì„œ *useMemo*ì— ëŒ€í•´ ì–´ë–»ê²Œ ë§í•˜ëŠ”ì§€ ì¸ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤:

> **useMemoëŠ” ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ëŠ” ìˆì§€ë§Œ ì˜ë¯¸ìƒìœ¼ë¡œ ë³´ì¥ì´ ìˆë‹¤ê³  ìƒê°í•˜ì§€ëŠ” ë§ˆì„¸ìš”.**<br/>
> ê°€ê¹Œìš´ ë¯¸ë˜ì— Reactì—ì„œëŠ”, ì´ì „ ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ë“¤ì˜ ì¼ë¶€ë¥¼ â€œìŠì–´ë²„ë¦¬ê³ â€ ë‹¤ìŒ ë Œë”ë§ ì‹œì— ê·¸ê²ƒë“¤ì„ ì¬ê³„ì‚°í•˜ëŠ” ë°©í–¥ì„ íƒí• ì§€ë„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.
> ì˜ˆë¥¼ ë“¤ë©´, ì˜¤í”„ìŠ¤í¬ë¦° ì»´í¬ë„ŒíŠ¸ì˜ ë©”ëª¨ë¦¬ë¥¼ í•´ì œí•˜ëŠ” ë“±ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> useMemoë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ê·¸ê²ƒì„ ì¶”ê°€í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•˜ì„¸ìš”

*useMemo*ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤ë©´ ì‚¬ìš©í•œë‹¤ê³  í•´ì„œ ë” ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•œ ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.
ìš°ë¦¬ëŠ” ì°¸ì¡° ê°’ ìœ ì§€ë¥¼ ì›í•˜ëŠ” ê²ƒì´ì§€ í¼í¬ë¨¼ìŠ¤ì— ê´€ì‹¬ì´ ìˆëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤.
ê·¸ëŸ¬ê¸° ìœ„í•´ì„œëŠ” ë¬´ì—‡ì´ ìµœì„ ì˜ ë°©ë²•ì¼ê¹Œìš”?

## ìš°ë¦¬ë¥¼ êµ¬ì¶œí•´ì¤„ state

ì´ë¥¼ ìœ„í•œ í•´ê²° ë°©ë²•ì€ ê²°êµ­ stateì…ë‹ˆë‹¤.
stateëŠ” ê°±ì‹  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí–ˆì„ ë•Œë§Œ ë³€ê²½ë˜ëŠ” ê²ƒì´ ë³´ì¥ë©ë‹ˆë‹¤.
í•´ì•¼ í•  ì¼ì€ ë‹¨ìˆœíˆ ê°±ì‹  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ” ê²ƒì´ê³  ì´ëŠ” *useState* ë°˜í™˜ ê°’ì˜ ë‘ ë²ˆì§¸ ì¸ìì´ë¯€ë¡œ ì´ë¥¼ êµ¬ì¡° ë¶„í•´ í• ë‹¹í•˜ì§€ ì•Šìœ¼ë©´ ë©ë‹ˆë‹¤.
*resource* ìƒì„±ìê°€ ë§ˆìš´íŠ¸ ì‹œì—ë§Œ í˜¸ì¶œë˜ëŠ” ê²ƒì„ ë³´ì¥í•˜ê¸° ìœ„í•´ [ì§€ì—° ì´ˆê¸°í™”](/blog/things-to-know-about-use-state#2-ì§€ì—°-ì´ˆê¸°í™”)ë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```jsx
const Component = () => {
  // âœ… ì™„ì „íˆ ì•ˆì •ì 
  const [resource] = React.useState(() => new Resource())
  return (
    <ResourceProvider resource={resource}>
      <App />
    </ResourceProvider>
  )
}
```

ì´ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ *resource*ê°€ ë‹¨ í•œ ë²ˆë§Œ ìƒì„±ë˜ëŠ” ê²ƒì„ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## refë¥¼ ì‚¬ìš©í•˜ëŠ” ê±´ ì–´ë–¤ê°€ìš”?

[useRef](https://ko.reactjs.org/docs/hooks-reference.html#useref)ë¥¼ ì‚¬ìš©í•´ë„ ë™ì¼í•œ ëª©ì ì„ ë‹¬ì„±í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.
ê·¸ë¦¬ê³  [Reactì˜ ê·œì¹™](https://gist.github.com/sebmarkbage/75f0838967cd003cd7f9ab938eb1958f)ì— ë”°ë¥´ë©´ ì´ ë°©ë²•ì´ ë Œë” í•¨ìˆ˜ì˜ ìˆœìˆ˜ì„±ì„ íŒŒê´´í•˜ëŠ” ê²ƒë„ ì•„ë‹™ë‹ˆë‹¤.

```jsx
const Component = () => {
  // âœ… ì—¬ì „íˆ ë™ì‘í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ìŒ...
  const resource = React.useRef(null)
  if (!resource.current) {
    resource.current = new Resource()
  }
  return (
    <ResourceProvider resource={resource.current}>
      <App />
    </ResourceProvider>
  )
}
```

í•˜ì§€ë§Œ ì†”ì§íˆ ë§í•˜ìë©´ ì´ë ‡ê²Œ ì‚¬ìš©í•´ì•¼ í•  ì´ìœ ê°€ ì—†ìŠµë‹ˆë‹¤. - ì´ê±´ ë³µì¡í•´ ë³´ì´ê¸°ë„ í•˜ê³  *resource.current*ê°€ null ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì¢‹ì•„í•˜ì§€ ì•Šì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.
ê·¸ë˜ì„œ ì €ëŠ” ë‹¨ìˆœíˆ *useState*ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•©ë‹ˆë‹¤.
